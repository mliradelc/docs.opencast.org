<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Wowza Adaptive Streaming Distribution Service - Opencast - Administration Guide</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Wowza Adaptive Streaming Distribution Service";
    var mkdocs_page_input_path = "modules/adaptivestreaming-wowza.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Opencast - Administration Guide</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../releasenotes/">Release Notes</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../upgrade/">Upgrade</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../changelog/">Changelog</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Installation</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../installation/">Overview</a>
                </li>
                <li class="">
                    
    <a class="" href="../../installation/multiple-servers/">Multiple Servers</a>
                </li>
                <li class="">
                    
    <span class="caption-text">Installation from Source</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../installation/source-linux/">Linux</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../installation/source-macosx/">MacOS X</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Installation from Package</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../installation/debs/">Debian/Ubuntu</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../installation/rpm-fedora/">Fedora</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../installation/rpm-rhel-sl-centos/">RHEL/CentOS</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Installation with Docker</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../installation/docker-local/">Testing Locally</a>
                </li>
    </ul>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Configuration</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../configuration/">Overview</a>
                </li>
                <li class="">
                    
    <a class="" href="../../configuration/basic/">Basic</a>
                </li>
                <li class="">
                    
    <a class="" href="../../configuration/database/">Database</a>
                </li>
                <li class="">
                    
    <span class="caption-text">HTTPS</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../configuration/https/">Overview</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../configuration/https/nginx/">Using Nginx</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../configuration/https/opencast.only/">Internal HTTPS</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../configuration/https/migration/">Migrating old content to HTTPS</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../../configuration/asset-manager/">Asset Manager</a>
                </li>
                <li class="">
                    
    <a class="" href="../../configuration/message-broker/">Message Broker</a>
                </li>
                <li class="">
                    
    <a class="" href="../../configuration/metadata/">Metadata</a>
                </li>
                <li class="">
                    
    <a class="" href="../../configuration/encoding/">Encoding</a>
                </li>
                <li class="">
                    
    <a class="" href="../../configuration/load/">Load</a>
                </li>
                <li class="">
                    
    <a class="" href="../../configuration/log/">Log</a>
                </li>
                <li class="">
                    
    <a class="" href="../../configuration/user-statistics.and.privacy/">User Statistics and Privacy Configuration</a>
                </li>
                <li class="">
                    
    <a class="" href="../../configuration/multi.tenancy/">Multi Tenancy</a>
                </li>
                <li class="">
                    
    <span class="caption-text">Authentication, Autorization and User Management</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../configuration/security/">General Security</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../configuration/acl/">Access Control Lists</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../configuration/security.aai/">Authentication and Authorization Infrastructure (AAI)</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../configuration/security.cas/">Central Authentication Service (CAS)</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../configuration/security.ldap/">LDAP Authentication and Authorization (without CAS)</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../configuration/security.user.moodle/">Moodle User Provider</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../configuration/security.user.sakai/">Sakai User Provider</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../../configuration/stream-security/">Stream Security</a>
                </li>
                <li class="">
                    
    <a class="" href="../../configuration/workflow/">Workflow</a>
                </li>
                <li class="">
                    
    <a class="" href="../../configuration/external-api/">External API</a>
                </li>
                <li class="">
                    
    <a class="" href="../../configuration/oaipmh/">OAI-PMH</a>
                </li>
                <li class="">
                    
    <span class="caption-text">Admin UI Configuration</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../configuration/admin-ui/event-filters/">Event Filters</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../configuration/admin-ui/asset-upload/">Manual Asset Upload</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../configuration/admin-ui/languages/">Languages</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../configuration/admin-ui/thumbnails/">Thumbnails</a>
                </li>
    </ul>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../version-support/">Version Support</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Modules</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../">Overview</a>
                </li>
                <li class="">
                    
    <a class="" href="../atomrss/">Atom/RSS Feed</a>
                </li>
                <li class="">
                    
    <span class="caption-text">Amazon Services</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../awss3archive/">Amazon S3 Archive Storage</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../awss3distribution/">Amazon S3 Distribution</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../execute/">Execute Service</a>
                </li>
                <li class="">
                    
    <a class="" href="../liveschedule/">Live Schedule</a>
                </li>
                <li class="">
                    
    <a class="" href="../ltimodule/">LTI Module</a>
                </li>
                <li class="">
                    
    <a class="" href="../mediamodule.configuration/">Media Module</a>
                </li>
                <li class="">
                    
    <span class="caption-text">Player</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../player.configuration/">Configuration</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../player.url.parameter/">URL Parameters</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../player.matomo.tracking/">Matomo Tracking</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../paella.player/">Paella player</a>
                </li>
                <li class="">
                    
    <a class="" href="../searchindex/">Search Index</a>
                </li>
                <li class="">
                    
    <a class="" href="../stream-security/">Stream Security</a>
                </li>
                <li class="">
                    
    <a class="" href="../textextraction/">Text Extraction</a>
                </li>
                <li class="">
                    
    <a class="" href="../watsontranscripts/">Transcripts (IBM Watson)</a>
                </li>
                <li class="">
                    
    <span class="caption-text">Video Editor</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../videoeditor.setup/">Setup</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../videoeditor.architecture/">Architecture</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../videosegmentation/">Video Segmentation</a>
                </li>
                <li class="">
                    
    <a class="" href="../waveform/">Waveform Service</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">Wowza Adaptive Streaming Distribution Service</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#wowza-adaptive-streaming-distribution-service">Wowza Adaptive Streaming Distribution Service</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#requirements">Requirements</a></li>
        
            <li><a class="toctree-l4" href="#directory-structure">Directory Structure</a></li>
        
            <li><a class="toctree-l4" href="#configuration">Configuration</a></li>
        
            <li><a class="toctree-l4" href="#installation-on-the-wowza-side">Installation on the Wowza side</a></li>
        
            <li><a class="toctree-l4" href="#optional-settings">Optional Settings</a></li>
        
            <li><a class="toctree-l4" href="#players-and-formats">Players and Formats</a></li>
        
            <li><a class="toctree-l4" href="#encoding-profiles">Encoding Profiles</a></li>
        
            <li><a class="toctree-l4" href="#limitations">Limitations</a></li>
        
        </ul>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../youtubepublication/">YouTube Publication</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Workflow Operation Handler</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/">Overview</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/retry-strategies/">Retry Strategies</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/analyze-tracks-woh/">Analyze Tracks</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/analyzeaudio-woh/">Analyze Audio</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/animate-woh/">Animate</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/snapshot-woh/">Asset Snapshot</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/asset-delete-woh/">Asset Delete</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/attach-watson-transcription-woh/">Attach Watson Transcription</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/cleanup-woh/">Cleanup</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/comment-woh/">Comment</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/compose-woh/">Compose</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/composite-woh/">Composite</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/concat-woh/">Concat</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/configure-by-dcterm-woh/">Configure-By-DCTerm</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/copy-woh/">Copy</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/clone-woh/">Clone</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/coverimage-woh/">Cover Image</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/defaults-woh/">Defaults</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/demux-woh/">Demux</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/duplicate-event-woh/">Duplicate Event</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/editor-woh/">Editor</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/encode-woh/">Encode</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/error-resolution-woh/">Error Resolution</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/execute-once-woh/">Execute Once</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/execute-many-woh/">Execute Many</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/export-wf-properties-woh/">Export Workflow Properties</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/extracttext-woh/">Extract Text</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/failing-woh/">Failing</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/httpnotify-woh/">HTTP Notify</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/image-woh/">Image</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/image-convert-woh/">Image convert</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/imagetovideo-woh/">Image to Video</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/import-wf-properties-woh/">Import Workflow Properties</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/incident-woh/">Incident</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/include-woh/">Include</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/ingestdownload-woh/">Ingest-Download</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/inspect-woh/">Inspect</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/log-woh/">Log</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/notification/">Mattermost Notification Module</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/move-storage-woh/">Move Storage</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/multiencode-woh/">Multiencode</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/normalizeaudio-woh/">Normalize Audio</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/partial-import-woh/">Partial Import</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/postmediapackage-woh/">Post Media Package</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/prepareav-woh/">Prepare A/V</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/probe-resolution-woh/">Probe Resolution</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/process-smil-woh/">Process Smil</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/publish-aws-woh/">Publish AWS</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/publish-configure-woh/">Publish Configure</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/publish-engage-woh/">Publish Engage</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/publish-oaipmh-woh/">Publish OAI-PMH</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/publish-youtube-woh/">Publish YouTube</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/republish-oaipmh-woh/">Republish OAI-PMH</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/retract-aws-woh/">Retract AWS S3 and Cloudfront</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/retract-engage-woh/">Retract Engage</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/retract-configure-woh/">Retract Configure</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/retract-oaipmh-woh/">Retract OAI-PMH</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/retract-youtube-woh/">Retract YouTube</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/segmentpreviews-woh/">Segment Previews</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/segmentvideo-woh/">Segment Video</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/select-streams-woh/">Select Streams</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/send-email-woh/">Send Email</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/series-woh/">Series</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/silence-woh/">Silence</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/start-watson-transcription-woh/">Start Watson Transcription</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/start-workflow-woh/">Start Workflow</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/tag-woh/">Tag</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/tag-by-dcterm-woh/">Tag-By-DCTerm</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/timelinepreviews-woh/">Timelinepreviews</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/theme-woh/">Theme</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/waveform-woh/">Waveform</a>
                </li>
                <li class="">
                    
    <a class="" href="../../workflowoperationhandlers/zip-woh/">Zip</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Opencast - Administration Guide</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Modules &raquo;</li>
        
      
    
    <li>Wowza Adaptive Streaming Distribution Service</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/opencast/opencast/tree/develop/docs/guides/admin/docs/edit/master/docs/modules/adaptivestreaming-wowza.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="wowza-adaptive-streaming-distribution-service">Wowza Adaptive Streaming Distribution Service</h1>
<p>This is an updated version of the <code>distribution-service-streaming</code> module, that is not installed by default anymore.</p>
<p>Even though the default <code>distribution-service-streaming</code> module included in previous releases can also
be used in combination with Wowza Media Server (or any other streaming servers) to stream videos in the RTMP format,
this refactored version also offers access to
<a href="https://www.wowza.com/forums/content.php?546-How-to-do-adaptive-bitrate-streaming">Wowza's adaptive streaming capabilities</a>.</p>
<p>The <code>distribution-service-streaming-wowza</code> module copies the media files to the Wowza application directory
and generates a SMIL file containing the paths to those files, grouping those with the same flavor but different
qualities. Then, for each configured streaming protocol, it generates the adequate entries in the MediaPackage and sets
the necessary URLs and MIME-Types automatically.</p>
<p>The protocols supported and the transport format they use are summarized below:</p>
<ul>
<li>RTMP(S)-based protocols (also supported by the default <code>distribution-service-streaming</code> module)<ul>
<li><strong>RTMP(S):</strong> Adobe Flash Streaming protocol. Requires the Adobe Flash Player to be installed in the client's browser.</li>
</ul>
</li>
<li>HTTP(S)-based protocols, corresponding to the modern (Adaptive) Streaming Formats<ul>
<li><strong>HLS:</strong> (Live) Streaming from Apple</li>
<li><strong>HDS:</strong> Dynamic Streaming from Adobe</li>
<li><strong>DASH:</strong> MPEG-DASH Dynamic Adaptive Streaming</li>
<li><strong>SMOOTH:</strong> Microsoft's Smooth Streaming</li>
</ul>
</li>
</ul>
<p><strong>Please note</strong>: Only the protocols RTMP, HLS and DASH (with and without SSL) have been thoroughly tested.</p>
<h2 id="requirements">Requirements</h2>
<p>A Wowza Streaming Engine version &gt;= 4.0 is required. Please pay special attention to the instructions re.
crossdomain access.</p>
<h2 id="directory-structure">Directory Structure</h2>
<p>The structure how this module stores the SMIL and media files is important to understand how the Wowza server must be
configured to properly work with Opencast.</p>
<p>This structure always follows the same pattern:</p>
<pre><code>${org.opencastproject.streaming.directory}/&lt;organization-id&gt;/&lt;channel-id&gt;/&lt;mediapackage-id&gt;/&lt;element-id&gt;/&lt;filename&gt;
</code></pre>
<p>, where:</p>
<ul>
<li><code>${org.opencastproject.streaming.directory}</code> is this module's root directory, as configured in Opencast's
  configuration (see below)</li>
<li><code>&lt;organization-id&gt;</code> is the identifier for the current organization (by default <code>mh-default-org</code>)</li>
<li><code>&lt;channel-id&gt;</code> is the channel identifier. Normally, the Workflow Operation determines the value of this parameter;
  for instance, the operation <code>publish-engage</code> calls the Streaming Service with a hardcoded value for this property
  of <code>engage-player</code></li>
<li><code>&lt;mediapackage-id&gt;</code>, <code>&lt;element-id&gt;</code> and <code>&lt;filename&gt;</code> are different for each MediaPackageElement that this module
  distributes.</li>
</ul>
<p>The organization ID is automatically assigned based on the server's DNS name
(<a href="../configuration/multi.tenancy">more info</a>). Each organization (or <em>tenant</em>) is
independent from the others defined in the system. For the media distribution, that means that each organization's
media content is stored in separate directories, so the streaming applications should also be different, as we will see
below.</p>
<h2 id="configuration">Configuration</h2>
<ol>
<li>
<p>Edit the file etc/org.opencastproject.streaming.wowza.StreamingDistributionService.cfg with your preferred
configuration. The contents should be self-explanatory.</p>
</li>
<li>
<p>Edit <code>$KARAF/etc/custom.properties</code> and adjust these values to match those of your scenario:</p>
<pre><code>org.opencastproject.streaming.url=rtmp(s)://&lt;wowza-server&gt;/&lt;wowza-application&gt;
org.opencastproject.streaming.port=&lt;port_number&gt;
org.opencastproject.adaptive-streaming.url=http(s)://&lt;wowza-server&gt;/&lt;wowza-application&gt;
org.opencastproject.adaptive-streaming.port=&lt;port_number&gt;
org.opencastproject.streaming.directory=/mnt/opencast-drive/content/streams
</code></pre>
<p>The port numbers are only necessary when non-standard ports are used for streaming and/or adaptive-streaming. In
most cases, it is safe to comment them out or simply not include those properties in the file.</p>
</li>
<li>
<p>Restart your Opencast server.</p>
</li>
</ol>
<h2 id="installation-on-the-wowza-side">Installation on the Wowza side</h2>
<hr />
<h3 id="pre-requirements">Pre-requirements</h3>
<ul>
<li>
<p>Download/Purchase the Wowza Streaming Engine from the <a href="https://www.wowza.com/">Wowza Homepage</a> and install it
according to their manuals.</p>
</li>
<li>
<p>The shared drive indicated in the <code>org.opencastproject.streaming.directory</code> in the <code>custom.properties</code> file in
Opencast must also be mounted in the Wowza server. <strong>Please note that mount points do not necessarily match!</strong> (e.g.
the path <code>/mnt/opencast-drive-content-streams</code> in the Opencast server might be mounted as <code>/media/opencast-streams</code> in
the Wowza server).</p>
</li>
<li>
<p>Do not forget to open your firewall on ports 1935 (RTMP), 80 (HTTP, adaptive streaming) and, if you want to use SSL,
443.</p>
</li>
<li>
<p>You will have set your login credentials during the setup of Wowza. You will need these for the web UI.</p>
</li>
</ul>
<hr />
<ol>
<li>
<p>Open <code>http://&lt;wowza-server&gt;:8088/enginemanager</code> and log in</p>
</li>
<li>
<p>Select "Application -&gt; Add Application" in the top menu</p>
</li>
<li>
<p>Select "VOD Single Server"</p>
</li>
<li>
<p>Enter a name for the new application. You <strong>must</strong> use the same application name you have configured
in <code>$KARAF/etc/custom.properties</code> (for instance: <em>opencast-engage</em>)</p>
</li>
<li>
<p><strong>Application Description</strong>: Feel free to add a description.</p>
</li>
<li>
<p><strong>Playback Types</strong>: Enable your desired streaming protocols</p>
</li>
<li>
<p><strong>Options</strong>: Disable the global CORS</p>
</li>
<li>
<p><strong>Content Directory</strong>: Mark the checkbox <em>Use the following directory</em>. The directory you should input is a
    subdirectory of the path indicated in the property <code>org.opencastproject.streaming.directory</code> defined in the file
    <code>$KARAF/etc/custom.properties</code>. That subdirectory's name is the organization's ID (<code>mh_default_org</code> by default).</p>
<p>For instance, if the <code>org.opencastproject.streaming.directory</code> is mounted in the Wowza Server as:</p>
<pre><code>/mnt/opencast-streams
</code></pre>
<p>then the <strong>Content Directory</strong> for the default organization would be:</p>
<pre><code>/mnt/opencast-streams/mh_default_org
</code></pre>
<p>In a multitenant Opencast setup, an organization with ID <code>my_organization</code> should have the <strong>Content Directory</strong>
set to:</p>
<pre><code>/mnt/opencast-streams/my_organization
</code></pre>
</li>
</ol>
<h2 id="optional-settings">Optional Settings</h2>
<p>Opencast HTML5 Player is able to play videos from Wowza using adaptive streaming protocols. However, some browsers may
experiment problems due to crossdomain issues, which means that we need to instruct Wowza to include the right
<code>Allow-Origin</code> headers in its HTTP requests.</p>
<p>On the other hand, you may experiment problems with the MPEG-DASH protocol, depending on the encoding of the video
sources.</p>
<p>All this can be configured in the "Options" section of the Wowza application:</p>
<ol>
<li>Click on the tab "Properties" in your application<ul>
<li>If you can't see the "Properties" tab, go to "Users" &gt; "Edit" &gt; "Preferences" and select "Allow access to advanced
  properties and features"</li>
</ul>
</li>
<li>Scroll down the page to "Custom"</li>
<li>Click the "Edit" button</li>
<li>
<p>Add the following Properties</p>
<table>
<thead>
<tr>
<th>Path</th>
<th>Name</th>
<th>Type</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>/Root/Application/HTTPStreamer</td>
<td>cupertinoUserHTTPHeaders</td>
<td>String</td>
<td>**</td>
</tr>
<tr>
<td>/Root/Application/HTTPStreamer</td>
<td>mpegdashUserHTTPHeaders</td>
<td>String</td>
<td>**</td>
</tr>
<tr>
<td>/Root/Application/HTTPStreamer</td>
<td>mpegdashAdjustCTTSForFirstKeyFrameToZero</td>
<td>Boolean</td>
<td>true</td>
</tr>
</tbody>
</table>
<ul>
<li><em>Due to some limitations in Bitbucket's Markdown parser, we can write this value within a table because it
contains a "pipe" symbol ("|"). The correct value for this property is:</em><pre><code>Access-Control-Allow-Origin: *|Access-Control-Allow-Methods:GET, HEAD, OPTIONS
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Do not forget to restart the application!</strong></p>
</li>
</ol>
<h2 id="players-and-formats">Players and Formats</h2>
<ul>
<li><strong>Theodul</strong>: RTMP, HLS, DASH (over HTTP and HTTPS)</li>
<li><strong>Paella</strong> : RTMP, RTMPS, HLS, DASH (over HTTP and HTTPS)</li>
</ul>
<h2 id="encoding-profiles">Encoding Profiles</h2>
<p>Keep in mind that you have to adapt your encoding profiles when you want generate the videos to distribute via HLS or
DASH. Specifically, if the videos with different qualities are not keyframe-aligned, they may not play smoothly or not
play at all. You can find more information
<a href="https://www.wowza.com/forums/content.php?546-How-to-do-adaptive-bitrate-streaming">here</a>.</p>
<h2 id="limitations">Limitations</h2>
<p>This module is able to correctly distribute new elements incrementally. That means that if some elements in a
mediapackage are already distributed when another <code>Distribute</code> operation runs, the operation should run without errors.
However, partial <code>Retract</code> operations are discouraged and cause the remaining elements to be no longer playable.</p>
<p>The recommended procedure to retract only some elements in a mediapackage is therefore:</p>
<ol>
<li>Completely retract the mediapackage</li>
<li>Distribute again only the desired elements</li>
</ol>
<p>The effects of this limitation are small, because the <code>retract-engage</code> workflow operation always retracts the whole
Mediapackage and because partial retractions seem to have little to no practical application. These can however be
performed by calling the corresponding REST endpoints. In such cases, users are encouraged to use the recommended
method above.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../youtubepublication/" class="btn btn-neutral float-right" title="YouTube Publication">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../waveform/" class="btn btn-neutral" title="Waveform Service"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/opencast/opencast/tree/develop/docs/guides/admin/docs/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../waveform/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../youtubepublication/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>

</body>
</html>
