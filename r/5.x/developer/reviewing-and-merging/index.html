<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Reviewing, Merging and Declining Pull Requests - Opencast - Developer Guide</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  <link href="../css/font-awesome.min.css" rel="stylesheet" />
  <link href="../css/style-guide.css" rel="stylesheet" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Reviewing, Merging and Declining Pull Requests";
    var mkdocs_page_input_path = "reviewing-and-merging.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Opencast - Developer Guide</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Development Process</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="../development-process/">Development</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Reviewing, Merging and Declining Pull Requests</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#reviewing-rules">Reviewing Rules</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#reviewing-a-pull-request">Reviewing a Pull Request</a>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../release-manager/">Release Manager</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../qa-coordinator/">QA Coordinator</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../security/">Security Issues</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../code-style/">Code Style</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../documentation/">Documentation</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Decision Making</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../decision-making/">Overview</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../decision-making/lazy-consensus/">Lazy Consensus</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../decision-making/consensus-building/">Consensus Building</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../decision-making/voting/">Voting</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Development Environment</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../development-environment/">Overview</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../development-environment-docker/">With Docker</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../committer/">Committers</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../license/">Licenses and Legal Matters</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../governance/">Governance</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../localization/">Localization</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../packaging/">Packaging</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../proposal-log/">Proposal Log</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../asset-manager/">Asset Manager</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../scheduler/">Scheduler</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Modules</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../modules/">Overview</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Administrative user Interface</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../modules/admin-ui/development/">Development</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="#">Style Guide</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../modules/admin-ui/style/">Overview</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../modules/admin-ui/style/color-palette/">Color Palette</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../modules/admin-ui/style/typeface/">Typeface</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../modules/admin-ui/style/view-structure/">View Structure</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../modules/admin-ui/style/spacing/">Logo</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../modules/admin-ui/style/navigation/">Navigation</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../modules/admin-ui/style/modals/">Modals</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../modules/admin-ui/style/forms/">Forms</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../modules/admin-ui/style/icons/">Icons</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../modules/admin-ui/style/buttons/">Buttons</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../modules/admin-ui/style/dropdowns/">Dropdowns</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../modules/admin-ui/style/alerts-indicators/">Alerts and Indicators</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../modules/admin-ui/style/references/">References</a>
                </li>
    </ul>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../modules/capture-agent/">Capture Agent</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Player</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../modules/player/architecture/">Architecture</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../modules/player/core.reference/">Core Reference</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../modules/player/events/">Events</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../modules/player/storage/">Storage</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../modules/player/plugin.development/">Plugin Development</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../modules/player/testing/">Testing</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../modules/stream-security/">Stream Security</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../modules/oaipmh/">OAI-PMH</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Infrastructure</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../infrastructure/">Overview</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../infrastructure/notes/">Notes</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../infrastructure/maven-repository/">Maven Repository</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">External API</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../api/">Introduction</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../api/usage/">Usage</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../api/authentication/">Authentication</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../api/authorization/">Authorization</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../api/base-api/">Base API</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../api/events-api/">Events API</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../api/series-api/">Series API</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../api/groups-api/">Groups API</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../api/security-api/">Security API</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../api/types/">Data Types</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../api/glossary/">Glossary</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Opencast - Developer Guide</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Development Process &raquo;</li>
        
      
    
    <li>Reviewing, Merging and Declining Pull Requests</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/opencast/opencast/tree/develop/docs/guides/developer/docs/edit/master/docs/reviewing-and-merging.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="reviewing-merging-and-declining-pull-requests">Reviewing, Merging and Declining Pull Requests</h1>
<p>Before a patch is merged into an official branch, it needs to be reviewed by a committer. During a
review, the reviewer tries to make sure that the patch merges without conflicts, that it works as expected and that
it does not break anything else.</p>
<p>If the reviewer discovers any kind of issue, he should leave a comment in the pull request view of GitHub and let the
contributor fix the problem. Reviewer and contributor should work together to fix any problem with the pull requests
before it is ready to go into the codebase.</p>
<h2 id="reviewing-rules">Reviewing Rules</h2>
<ul>
<li>Reviews and merges need to be done by committers.</li>
<li>Reviewers should come from a different institution than the contributor.</li>
<li>Pull requests for bug fixes or documentation may be reviewed and merged out of order.</li>
<li>Feature pull requests have to be merged in order unless their contributor or reviewer decide to temporarily skip it.
  Such a decision has to be justified by the existence of unresolved issues in that particular pull request.</li>
<li>There is a so-called “merge ticket” in Jira for <code>develop</code> and for each release branch. Committers must not merge code
  into these branches unless they are the assignee of the corresponding ticket.</li>
<li>By default, the merge ticket for <code>develop</code> should be always assigned to the reviewer of the next feature pull request
  to be merged.</li>
<li>The merge ticket for <code>develop</code>, can be temporarily taken by anyone for merging a bug fix after coordinating this with
  the current assignee of the ticket</li>
<li>No features can be merged in the release branches, so the merge tickets corresponding to a release branch will be
  unassigned by default. Reviewers merging bug fixes must assign the ticket to themselves before doing so, and then
  leave it unassigned after finishing.</li>
<li>The release ticket should not be unassigned for longer than 72 hours in which case the release manager should assign
  it to the reviewer of the next pull request in line.</li>
<li>After taking up a review (or being assigned to one), a basic review has to be done within the following 14 days for a
  bug fix or 21 days for a feature. A basic review means that either some issues should be pointed out or the pull
  request should be approved.</li>
<li>No pull request shall be without a reviewer for more than 14 days. If no committer is willing to take up the review
  on their own, the review will be assigned.</li>
<li>Any committer may merge an arbitrary set of <em>approved</em> pull requests, even if he is not the official reviewer, given
  that:<ul>
<li>The committer sends an announcement to the development list 24 hours in advance, including a list of the pull
  requests to be merged and no other committer objects to that.</li>
<li>The committer checks that all the patches are working (which basically means to review the patch set as a whole).</li>
</ul>
</li>
<li>A reviewer may decline a pull request if issues were pointed out but were neither fixed nor discussed for more than
  14 days. It is generally suggested to try to contact the contributor before declining the pull request and to
  additionally bring the problem up at the technical meeting.</li>
</ul>
<h2 id="reviewing-a-pull-request">Reviewing a Pull Request</h2>
<p>There is no list of things you are required to do as reviewer of a pull request. Our primary goals in doing reviews for
all pull requests are to ensure that:</p>
<ul>
<li>There are no bugs in the pull request<ul>
<li>The feature works as advertised</li>
<li>It does not break any other features</li>
</ul>
</li>
<li>There are no obvious legal problems<ul>
<li><a href="../license/">Licenses seem to be fine</a></li>
<li>Licenses are added to the <code>NOTICES</code> file</li>
</ul>
</li>
<li>Feature documentation is in place</li>
<li>An upgrade path exists (usually relevant for database changes)</li>
</ul>
<p>The exact review process heavily depends on the type, size and purpose of the pull request. For example, it does not
make sense to run the unit or integration tests for pull requests containing documentation only. Instead, reviewers
should run <code>mkdocs</code> to build the documentation.</p>
<p>Here are some things a reviewer should usually do:</p>
<ul>
<li>Check if code looks sensible (e.g. no nonsensical files, no obvious formatting errors, no large binary files, …)</li>
<li>Perform the merge locally to make sure there are no conflicts</li>
<li>Build Opencast with the <code>-P dev,dist</code> flag (build all modules) and tests enabled (default). If you have some more time
  (e.g. lunch break), clear your local Maven repository (usually <code>~/.m2</code>) before starting the build process</li>
<li>Locally run Opencast to make sure it still works after the merge</li>
<li>Make sure the issue has been fixed (as described in the pull request and/or the Jira ticket) or the feature does
  what it is supposed to</li>
<li>Check and build the documentation</li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../release-manager/" class="btn btn-neutral float-right" title="Release Manager">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../development-process/" class="btn btn-neutral" title="Development"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/opencast/opencast/tree/develop/docs/guides/developer/docs/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../development-process/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../release-manager/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
